<?php
if ( ! defined('BASEPATH')) exit('No direct script access allowed');
/**
 *
 * @name Help
 * @desc null
 *
 * @copyright (c) 2015 SINA Inc. All rights reserved.
 *
 */
class Help extends MY_Controller
{
	public function __construct(){
		parent::__construct();
	}
	public function test() {
		$day = array(
			20160512,
20160527,
20160606,
20160616,
20160626,
20160706,
20160716,
20160726,
20160805,
20160815,
20160825,
20160904,
20160914,
20160924,
20161004,
20161014,
20161024,
20161103,
20161113,
20161123,
20161203,
20160513,
20160528,
20160607,
20160617,
20160627,
20160707,
20160717,
20160727,
20160806,
20160816,
20160826,
20160905,
20160915,
20160925,
20161005,
20161015,
20161025,
20161104,
20161114,
20161124,
20161204,
20160515,
20160529,
20160608,
20160618,
20160628,
20160708,
20160718,
20160728,
20160807,
20160817,
20160827,
20160906,
20160916,
20160926,
20161006,
20161016,
20161026,
20161105,
20161115,
20161125,
20161205,
20160516,
20160530,
20160609,
20160619,
20160629,
20160709,
20160719,
20160729,
20160808,
20160818,
20160828,
20160907,
20160917,
20160927,
20161007,
20161017,
20161027,
20161106,
20161116,
20161126,
20161207,
20160517,
20160531,
20160610,
20160620,
20160630,
20160710,
20160720,
20160730,
20160809,
20160819,
20160829,
20160908,
20160918,
20160928,
20161008,
20161018,
20161028,
20161107,
20161117,
20161127,
20161208,
20160519,
20160601,
20160611,
20160621,
20160701,
20160711,
20160721,
20160731,
20160810,
20160820,
20160830,
20160909,
20160919,
20160929,
20161009,
20161019,
20161029,
20161108,
20161118,
20161128,
20161209,
20160521,
20160602,
20160612,
20160622,
20160702,
20160712,
20160722,
20160801,
20160811,
20160821,
20160831,
20160910,
20160920,
20160930,
20161010,
20161020,
20161030,
20161109,
20161119,
20161129,
20161210,
20160523,
20160603,
20160613,
20160623,
20160703,
20160713,
20160723,
20160802,
20160812,
20160822,
20160901,
20160911,
20160921,
20161001,
20161011,
20161021,
20161031,
20161110,
20161120,
20161130,
20161211,
20160524,
20160604,
20160614,
20160624,
20160704,
20160714,
20160724,
20160803,
20160813,
20160823,
20160902,
20160912,
20160922,
20161002,
20161012,
20161022,
20161101,
20161111,
20161121,
20161201,
20161212,
20160526,
20160605,
20160615,
20160625,
20160705,
20160715,
20160725,
20160804,
20160814,
20160824,
20160903,
20160913,
20160923,
20161003,
20161013,
20161023,
20161102,
20161112,
20161122,
20161202,
20161213
		);

		foreach ($day as $v) {
			echo "rm -f $v/DEBUG/www/cms_DEBUG_$v.log;
rm -f $v/DEBUG/www/elastic_model_DEBUG_$v.log;
rm -f $v/DEBUG/www/search_model_DEBUG_$v.log;";
			echo "\n";
		}
	}

	// 默认为APP使用，不带公共头。
	public function index($is_app = 1){
		$u_info = $this->userinfo;
		$exp = $u_info['virtual_exps']+$u_info['exps'];
		$this->smarty->assign('exp', $exp);
		$this->smarty->assign('u_infos', $u_info);
		$this->smarty->assign('u_info', json_encode($u_info ? $u_info : ''));

		if ($is_app) {
			$this->smarty->view ( 'help/help_app.tpl' );
		} else {
			$this->smarty->view ( 'help/help.tpl' );
		}
	}

	public function web() {
		$this->index(0);
	}

	public function getConstants() {
		$res = get_defined_constants();
		$res_defined['DRAW_MIN_MONEY'] = $res['DRAW_MIN_MONEY'];
		$res_defined['DRAW_MAX_MONEY'] = $res['DRAW_MAX_MONEY'];
		$res_defined['REWARD_RAND_MIN_MONEY'] = $res['REWARD_RAND_MIN_MONEY'];
		$res_defined['REWARD_RAND_MAX_MONEY'] = $res['REWARD_RAND_MAX_MONEY'];
		$res_defined['REWARD_MAX_MONEY'] = $res['REWARD_MAX_MONEY'];
		$res_defined['REWARD_MIN_MONEY_NEED_GESTURE'] = $res['REWARD_MIN_MONEY_NEED_GESTURE'];

		$res_defined['USER_DRAWCASH'] = $res['USER_DRAWCASH'];
		$res_defined['DRAW_COUNT_PER_MONTH'] = $res['DRAW_COUNT_PER_MONTH'];

	    echo json_encode($res_defined);exit;
	}

}
